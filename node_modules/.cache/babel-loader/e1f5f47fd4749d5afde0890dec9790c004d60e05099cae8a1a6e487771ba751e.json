{"ast":null,"code":"/**\n * Main App component orchestrating the entire application.\n * Handles deal loading, modal state, and responsive layout with sidebar and main grid.\n */import React from'react';import{useDeals}from'./hooks/useDeals';import{useModal}from'./hooks/useModal';import Header from'./components/Header';import HomePage from'./components/HomePage';import Sidebar from'./components/Sidebar';import DealModal from'./components/DealModal';import{getFeaturedDeals}from'./utils/dealUtils';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const{deals,loading,error,selectedDeal,selectDeal,clearSelection,refresh,isRefreshing}=useDeals({autoRefresh:true,refreshInterval:300000// 5 minutes\n});const{isOpen:isModalOpen,openModal,closeModal}=useModal({closeOnEscape:true,closeOnBackdropClick:true,preventBodyScroll:true});// Handle deal selection\nconst handleDealSelect=deal=>{selectDeal(deal);openModal();};// Handle modal close\nconst handleModalClose=()=>{closeModal();// Clear selection after modal animation completes\nsetTimeout(()=>clearSelection(),300);};// Get featured deals for sidebar\nconst featuredDeals=getFeaturedDeals(deals,20);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 flex flex-col\",children:[/*#__PURE__*/_jsx(Header,{totalDeals:deals.length,featuredDeals:featuredDeals.length,onRefresh:refresh,isLoading:loading||isRefreshing}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 lg:mr-80\",children:/*#__PURE__*/_jsx(HomePage,{deals:deals,onDealSelect:handleDealSelect,loading:loading,error:error})}),/*#__PURE__*/_jsx(Sidebar,{deals:deals,onDealSelect:handleDealSelect,selectedDeal:selectedDeal,className:\"fixed right-0 top-16 h-[calc(100vh-4rem)] w-80 overflow-y-auto p-6\"})]}),/*#__PURE__*/_jsx(DealModal,{deal:selectedDeal,isOpen:isModalOpen,onClose:handleModalClose}),/*#__PURE__*/_jsx(\"a\",{href:\"#main-content\",className:\" sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-4 py-2 rounded-lg z-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 \",children:\"Skip to main content\"}),!loading&&deals.length>0&&/*#__PURE__*/_jsx(\"footer\",{className:\"bg-white border-t py-4 px-4 lg:mr-80\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mb-2 sm:mb-0\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-400 rounded-full\"}),\"Real Amazon pricing\"]}),/*#__PURE__*/_jsx(\"span\",{children:\"No fake data\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Updated regularly\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Data from: Amazon API & Web Scraping\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-blue-600 hover:text-blue-800\",onClick:e=>{e.preventDefault();// Could open an info modal about data sources\n},children:\"Learn more\"})]})]})})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded max-w-sm z-50\",role:\"alert\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium\",children:\"Error loading deals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm mt-1\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:refresh,className:\"text-sm bg-red-200 hover:bg-red-300 text-red-800 px-3 py-1 rounded transition-colors\",children:\"Retry\"})})]})]})})]});};export default App;","map":{"version":3,"names":["React","useDeals","useModal","Header","HomePage","Sidebar","DealModal","getFeaturedDeals","jsx","_jsx","jsxs","_jsxs","App","deals","loading","error","selectedDeal","selectDeal","clearSelection","refresh","isRefreshing","autoRefresh","refreshInterval","isOpen","isModalOpen","openModal","closeModal","closeOnEscape","closeOnBackdropClick","preventBodyScroll","handleDealSelect","deal","handleModalClose","setTimeout","featuredDeals","className","children","totalDeals","length","onRefresh","isLoading","onDealSelect","onClose","href","onClick","e","preventDefault","role","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["C:/Users/dan/Desktop/guru2/src/App.tsx"],"sourcesContent":["/**\n * Main App component orchestrating the entire application.\n * Handles deal loading, modal state, and responsive layout with sidebar and main grid.\n */\n\nimport React from 'react';\nimport { useDeals } from './hooks/useDeals';\nimport { useModal } from './hooks/useModal';\nimport Header from './components/Header';\nimport HomePage from './components/HomePage';\nimport Sidebar from './components/Sidebar';\nimport DealModal from './components/DealModal';\nimport { getFeaturedDeals } from './utils/dealUtils';\nimport './index.css';\n\nconst App: React.FC = () => {\n  const { deals, loading, error, selectedDeal, selectDeal, clearSelection, refresh, isRefreshing } = useDeals({\n    autoRefresh: true,\n    refreshInterval: 300000, // 5 minutes\n  });\n\n  const { isOpen: isModalOpen, openModal, closeModal } = useModal({\n    closeOnEscape: true,\n    closeOnBackdropClick: true,\n    preventBodyScroll: true,\n  });\n\n  // Handle deal selection\n  const handleDealSelect = (deal: any) => {\n    selectDeal(deal);\n    openModal();\n  };\n\n  // Handle modal close\n  const handleModalClose = () => {\n    closeModal();\n    // Clear selection after modal animation completes\n    setTimeout(() => clearSelection(), 300);\n  };\n\n  // Get featured deals for sidebar\n  const featuredDeals = getFeaturedDeals(deals, 20);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col\">\n      {/* Header */}\n      <Header\n        totalDeals={deals.length}\n        featuredDeals={featuredDeals.length}\n        onRefresh={refresh}\n        isLoading={loading || isRefreshing}\n      />\n\n      {/* Main Layout */}\n      <div className=\"flex-1 flex\">\n        {/* Main Content */}\n        <div className=\"flex-1 lg:mr-80\">\n          <HomePage\n            deals={deals}\n            onDealSelect={handleDealSelect}\n            loading={loading}\n            error={error}\n          />\n        </div>\n\n        {/* Sidebar - Desktop Only */}\n        <Sidebar\n          deals={deals}\n          onDealSelect={handleDealSelect}\n          selectedDeal={selectedDeal}\n          className=\"fixed right-0 top-16 h-[calc(100vh-4rem)] w-80 overflow-y-auto p-6\"\n        />\n      </div>\n\n      {/* Deal Modal */}\n      <DealModal\n        deal={selectedDeal}\n        isOpen={isModalOpen}\n        onClose={handleModalClose}\n      />\n\n      {/* Skip to main content link for accessibility */}\n      <a\n        href=\"#main-content\"\n        className=\"\n          sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4\n          bg-blue-600 text-white px-4 py-2 rounded-lg z-50\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n        \"\n      >\n        Skip to main content\n      </a>\n\n      {/* App Info Footer - Only visible when no deals are loading */}\n      {!loading && deals.length > 0 && (\n        <footer className=\"bg-white border-t py-4 px-4 lg:mr-80\">\n          <div className=\"max-w-7xl mx-auto\">\n            <div className=\"flex flex-col sm:flex-row justify-between items-center text-sm text-gray-600\">\n              <div className=\"flex items-center gap-4 mb-2 sm:mb-0\">\n                <span className=\"flex items-center gap-1\">\n                  <div className=\"w-2 h-2 bg-green-400 rounded-full\"></div>\n                  Real Amazon pricing\n                </span>\n                <span>No fake data</span>\n                <span>Updated regularly</span>\n              </div>\n              \n              <div className=\"flex items-center gap-4 text-xs\">\n                <span>\n                  Data from: Amazon API & Web Scraping\n                </span>\n                <a \n                  href=\"#\" \n                  className=\"text-blue-600 hover:text-blue-800\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    // Could open an info modal about data sources\n                  }}\n                >\n                  Learn more\n                </a>\n              </div>\n            </div>\n          </div>\n        </footer>\n      )}\n\n      {/* Error boundary - could be enhanced with proper error boundary component */}\n      {error && (\n        <div \n          className=\"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded max-w-sm z-50\"\n          role=\"alert\"\n        >\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium\">Error loading deals</h3>\n              <div className=\"text-sm mt-1\">\n                {error}\n              </div>\n              <div className=\"mt-2\">\n                <button\n                  onClick={refresh}\n                  className=\"text-sm bg-red-200 hover:bg-red-300 text-red-800 px-3 py-1 rounded transition-colors\"\n                >\n                  Retry\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}